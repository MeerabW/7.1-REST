<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Warehouse Consumer</title>
    <script>
        function filterTable() {
            let warehouseId = document.getElementById("warehouseIdFilter").value.toLowerCase();
            let productName = document.getElementById("productFilter").value.toLowerCase();
            let rows = document.querySelectorAll("#productTable tbody tr");

            rows.forEach(row => {
                let wId = row.dataset.warehouseId.toLowerCase();
                let pName = row.dataset.productName.toLowerCase();
                if ((warehouseId === "" || wId.includes(warehouseId)) &&
                    (productName === "" || pName.includes(productName))) {
                    row.style.display = "";
                } else {
                    row.style.display = "none";
                }
            });
        }
    </script>
</head>
<body>
<h1>Warehouse Consumer</h1>

<label>Standort filtern:
    <input type="text" id="warehouseIdFilter" onkeyup="filterTable()" placeholder="z.B. 001">
</label>

<label>Produktname filtern:
    <input type="text" id="productFilter" onkeyup="filterTable()" placeholder="Produktname">
</label>

<table id="productTable" border="1">
    <thead>
    <tr>
        <th>Standort</th>
        <th>Produkt ID</th>
        <th>Name</th>
        <th>Kategorie</th>
        <th>Menge</th>
        <th>Einheit</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="w : ${warehouses}" th:each="p : ${w.productData}"
        th:data-warehouse-id="${w.warehouseID}" th:data-product-name="${p.productName}">
        <td th:text="${w.warehouseID}"></td>
        <td th:text="${p.productID}"></td>
        <td th:text="${p.productName}"></td>
        <td th:text="${p.productCategory}"></td>
        <td th:text="${p.productQuantity}"></td>
        <td th:text="${p.productUnit}"></td>
    </tr>
    </tbody>
</table>

</body>
</html>
